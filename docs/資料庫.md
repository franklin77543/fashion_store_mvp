# Fashion Store MVP - è³‡æ–™åº«è¨­è¨ˆæ–‡ä»¶

**å»ºç«‹æ—¥æœŸ**: 2025-11-20  
**è³‡æ–™åº«é¡å‹**: SQLite (é–‹ç™¼ç’°å¢ƒ) / PostgreSQL (ç”Ÿç”¢ç’°å¢ƒ)  
**è³‡æ–™ä¾†æº**: Fashion Product Images Dataset (Kaggle)

---

## ğŸ“‹ ç›®éŒ„

- [è¨­è¨ˆåŸå‰‡](#è¨­è¨ˆåŸå‰‡)
- [è³‡æ–™è¡¨çµæ§‹](#è³‡æ–™è¡¨çµæ§‹)
  - [æ ¸å¿ƒè¡¨ï¼šå•†å“è³‡æ–™](#æ ¸å¿ƒè¡¨å•†å“è³‡æ–™)
  - [æŸ¥æ‰¾è¡¨ (Lookup Tables)](#æŸ¥æ‰¾è¡¨-lookup-tables)
  - [æ“´å±•è¡¨ï¼šå•†å“è©³ç´°è³‡è¨Š](#æ“´å±•è¡¨å•†å“è©³ç´°è³‡è¨Š)
  - [è¨‚å–®ç³»çµ±](#è¨‚å–®ç³»çµ±-phase-1)
  - [å•†å“è©•è«–ç³»çµ±](#å•†å“è©•è«–ç³»çµ±-phase-2)
  - [AI æ¨è–¦ç³»çµ±](#ai-æ¨è–¦ç³»çµ±-phase-3)
- [è³‡æ–™è¡¨é—œè¯åœ–](#è³‡æ–™è¡¨é—œè¯åœ–)
- [ç´¢å¼•ç­–ç•¥](#ç´¢å¼•ç­–ç•¥)
- [è³‡æ–™é·ç§»è¨ˆåŠƒ](#è³‡æ–™é·ç§»è¨ˆåŠƒ)

---

## ğŸ¯ è¨­è¨ˆåŸå‰‡

1. **æ­£è¦åŒ–è¨­è¨ˆ**ï¼šé¿å…è³‡æ–™é‡è¤‡ï¼Œä½¿ç”¨æŸ¥æ‰¾è¡¨ (Lookup Tables) ç®¡ç†åˆ†é¡ã€é¡è‰²ç­‰å›ºå®šé¸é …
2. **é—œè¯å®Œæ•´æ€§**ï¼šä½¿ç”¨å¤–éµç¢ºä¿è³‡æ–™ä¸€è‡´æ€§
3. **æ•ˆèƒ½å„ªåŒ–**ï¼šç‚ºå¸¸ç”¨æŸ¥è©¢æ¬„ä½å»ºç«‹ç´¢å¼•
4. **æ“´å±•æ€§**ï¼šè¨­è¨ˆæ”¯æ´æœªä¾†åŠŸèƒ½æ“´å±•ï¼ˆè©•è«–ã€AI æ¨è–¦ç­‰ï¼‰
5. **è³‡æ–™å¿«ç…§**ï¼šè¨‚å–®ç³»çµ±å„²å­˜å•†å“è³‡è¨Šå¿«ç…§ï¼Œé¿å…å¾ŒçºŒåƒ¹æ ¼è®Šå‹•å½±éŸ¿æ­·å²è¨‚å–®
6. **è»Ÿåˆªé™¤**ï¼šä½¿ç”¨ `is_active` æ¨™è¨˜è€Œéå¯¦éš›åˆªé™¤è³‡æ–™

---

## ğŸ“Š è³‡æ–™è¡¨çµæ§‹

### æ ¸å¿ƒè¡¨ï¼šå•†å“è³‡æ–™

#### 1. `products` - å•†å“ä¸»è¡¨

å„²å­˜æ‰€æœ‰å•†å“çš„æ ¸å¿ƒè³‡è¨Šï¼Œæ˜¯æ•´å€‹ç³»çµ±çš„ä¸­å¿ƒè³‡æ–™è¡¨ã€‚

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY | å•†å“å”¯ä¸€è­˜åˆ¥ç¢¼ï¼ˆä¾†è‡ª CSVï¼‰ |
| **product_display_name** | VARCHAR(500) | NOT NULL | å•†å“é¡¯ç¤ºåç¨± |
| | | | |
| **åˆ†é¡é—œè¯** | | | |
| gender_id | INTEGER | FK â†’ genders.id | æ€§åˆ¥åˆ†é¡ |
| master_category_id | INTEGER | FK â†’ master_categories.id | ä¸»åˆ†é¡ï¼ˆæœé£¾/é…ä»¶/é‹é¡ç­‰ï¼‰ |
| sub_category_id | INTEGER | FK â†’ sub_categories.id | å­åˆ†é¡ï¼ˆä¸Šè¡£/ä¸‹è‘—/é‹å­ç­‰ï¼‰ |
| article_type_id | INTEGER | FK â†’ article_types.id | å•†å“é¡å‹ï¼ˆTæ¤/ç‰›ä»”è¤²/æ‰‹éŒ¶ç­‰ï¼‰ |
| | | | |
| **å•†å“å±¬æ€§** | | | |
| base_colour_id | INTEGER | FK â†’ colours.id | åŸºç¤é¡è‰² |
| season_id | INTEGER | FK â†’ seasons.id | é©ç”¨å­£ç¯€ |
| usage_id | INTEGER | FK â†’ usages.id | ä½¿ç”¨å ´åˆ |
| year | INTEGER | | å¹´ä»½ |
| | | | |
| **å“ç‰Œèˆ‡åƒ¹æ ¼** | | | |
| brand_id | INTEGER | FK â†’ brands.id | å“ç‰Œ |
| price | DECIMAL(10,2) | | åŸåƒ¹ |
| discounted_price | DECIMAL(10,2) | | æŠ˜æ‰£åƒ¹ |
| discount_percent | INTEGER | | æŠ˜æ‰£ç™¾åˆ†æ¯” |
| | | | |
| **å•†å“æè¿°** | | | |
| description | TEXT | | å•†å“è©³ç´°æè¿°ï¼ˆä¾†è‡ª JSONï¼‰ |
| | | | |
| **åœ–ç‰‡è³‡è¨Š** | | | |
| image_url | VARCHAR(1000) | | ä¸»åœ–ç‰‡ URL |
| has_front_image | BOOLEAN | DEFAULT false | æ˜¯å¦æœ‰æ­£é¢åœ– |
| has_back_image | BOOLEAN | DEFAULT false | æ˜¯å¦æœ‰èƒŒé¢åœ– |
| has_search_image | BOOLEAN | DEFAULT false | æ˜¯å¦æœ‰æœå°‹ç”¨åœ– |
| | | | |
| **å•†å“ç‹€æ…‹** | | | |
| is_active | BOOLEAN | DEFAULT true | æ˜¯å¦ä¸Šæ¶ |
| stock_count | INTEGER | DEFAULT 0 | åº«å­˜æ•¸é‡ |
| | | | |
| **è©•åˆ†èˆ‡éŠ·å”®** | | | |
| rating | DECIMAL(3,2) | DEFAULT 0 | å¹³å‡è©•åˆ† (0-5) |
| review_count | INTEGER | DEFAULT 0 | è©•è«–æ•¸é‡ |
| view_count | INTEGER | DEFAULT 0 | ç€è¦½æ¬¡æ•¸ |
| | | | |
| **æ™‚é–“æˆ³è¨˜** | | | |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |
| updated_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | æ›´æ–°æ™‚é–“ |

**ç´¢å¼•ï¼š**
- `idx_gender_category`: (gender_id, master_category_id)
- `idx_colour_season`: (base_colour_id, season_id)
- `idx_price`: (price, discounted_price)
- `idx_active_created`: (is_active, created_at)
- `idx_product_name`: product_display_name (BTREE)

---

### æŸ¥æ‰¾è¡¨ (Lookup Tables)

é€™äº›è¡¨å„²å­˜å›ºå®šçš„åˆ†é¡é¸é …ï¼Œé¿å…åœ¨ä¸»è¡¨ä¸­é‡è¤‡å„²å­˜ç›¸åŒçš„å­—ä¸²è³‡æ–™ã€‚

#### 2. `genders` - æ€§åˆ¥åˆ†é¡

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **name** | VARCHAR(50) | UNIQUE, NOT NULL | è‹±æ–‡åç¨± (Men, Women, Boys, Girls, Unisex) |
| **display_name** | VARCHAR(50) | NOT NULL | é¡¯ç¤ºåç¨±ï¼ˆç”·æ€§ã€å¥³æ€§ã€ç”·ç«¥ã€å¥³ç«¥ã€ä¸­æ€§ï¼‰ |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |

**è³‡æ–™ç¯„ä¾‹ï¼š**
- Men â†’ ç”·æ€§
- Women â†’ å¥³æ€§
- Boys â†’ ç”·ç«¥
- Girls â†’ å¥³ç«¥
- Unisex â†’ ä¸­æ€§

---

#### 3. `master_categories` - ä¸»è¦å•†å“åˆ†é¡

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **name** | VARCHAR(100) | UNIQUE, NOT NULL | è‹±æ–‡åç¨± |
| **display_name** | VARCHAR(100) | NOT NULL | é¡¯ç¤ºåç¨±ï¼ˆä¸­æ–‡ï¼‰ |
| description | TEXT | | åˆ†é¡èªªæ˜ |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |

**è³‡æ–™ç¯„ä¾‹ï¼š**
- Apparel â†’ æœé£¾
- Accessories â†’ é…ä»¶
- Footwear â†’ é‹é¡
- Personal Care â†’ å€‹äººè­·ç†
- Free Items â†’ è´ˆå“
- Sporting Goods â†’ é‹å‹•ç”¨å“

---

#### 4. `sub_categories` - å­åˆ†é¡

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **master_category_id** | INTEGER | FK â†’ master_categories.id | æ‰€å±¬ä¸»åˆ†é¡ |
| **name** | VARCHAR(100) | NOT NULL | è‹±æ–‡åç¨± |
| **display_name** | VARCHAR(100) | NOT NULL | é¡¯ç¤ºåç¨±ï¼ˆä¸­æ–‡ï¼‰ |
| description | TEXT | | åˆ†é¡èªªæ˜ |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |

**ç´¢å¼•ï¼š**
- `idx_master_sub_unique`: (master_category_id, name) UNIQUE

**è³‡æ–™ç¯„ä¾‹ï¼š**
- Topwear â†’ ä¸Šè¡£
- Bottomwear â†’ ä¸‹è‘—
- Shoes â†’ é‹å­
- Bags â†’ åŒ…åŒ…
- Watches â†’ æ‰‹éŒ¶
- Innerwear â†’ å…§è¡£
- Jewellery â†’ ç å¯¶é£¾å“
- Eyewear â†’ çœ¼é¡
- Fragrance â†’ é¦™æ°´
- Sandal â†’ æ¶¼é‹

---

#### 5. `article_types` - å•†å“é¡å‹ï¼ˆæœ€ç´°åˆ†é¡ï¼‰

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **sub_category_id** | INTEGER | FK â†’ sub_categories.id | æ‰€å±¬å­åˆ†é¡ |
| **name** | VARCHAR(100) | NOT NULL | è‹±æ–‡åç¨± |
| **display_name** | VARCHAR(100) | NOT NULL | é¡¯ç¤ºåç¨±ï¼ˆä¸­æ–‡ï¼‰ |
| description | TEXT | | é¡å‹èªªæ˜ |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |

**ç´¢å¼•ï¼š**
- `idx_sub_article_unique`: (sub_category_id, name) UNIQUE

**è³‡æ–™ç¯„ä¾‹ï¼š**
- Tshirts â†’ Tæ¤
- Shirts â†’ è¥¯è¡«
- Jeans â†’ ç‰›ä»”è¤²
- Casual Shoes â†’ ä¼‘é–’é‹
- Sports Shoes â†’ é‹å‹•é‹
- Kurtas â†’ åº«çˆ¾å¡”ï¼ˆå°åº¦é•·è¡«ï¼‰
- Tops â†’ ä¸Šè¡£
- Handbags â†’ æ‰‹æåŒ…
- Heels â†’ é«˜è·Ÿé‹
- Sunglasses â†’ å¤ªé™½çœ¼é¡

---

#### 6. `colours` - é¡è‰²æŸ¥æ‰¾è¡¨

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **name** | VARCHAR(50) | UNIQUE, NOT NULL | è‹±æ–‡åç¨± |
| **display_name** | VARCHAR(50) | NOT NULL | é¡¯ç¤ºåç¨±ï¼ˆä¸­æ–‡ï¼‰ |
| hex_code | VARCHAR(7) | | HEX é¡è‰²ç¢¼ (#000000) |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |

**è³‡æ–™ç¯„ä¾‹ï¼š**
- Black â†’ é»‘è‰² (#000000)
- White â†’ ç™½è‰² (#FFFFFF)
- Blue â†’ è—è‰² (#0000FF)
- Red â†’ ç´…è‰² (#FF0000)
- Green â†’ ç¶ è‰² (#008000)
- Navy Blue â†’ æµ·è»è— (#000080)

---

#### 7. `seasons` - å­£ç¯€åˆ†é¡

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **name** | VARCHAR(50) | UNIQUE, NOT NULL | è‹±æ–‡åç¨± |
| **display_name** | VARCHAR(50) | NOT NULL | é¡¯ç¤ºåç¨±ï¼ˆä¸­æ–‡ï¼‰ |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |

**è³‡æ–™ç¯„ä¾‹ï¼š**
- Summer â†’ å¤å­£
- Winter â†’ å†¬å­£
- Fall â†’ ç§‹å­£
- Spring â†’ æ˜¥å­£

---

#### 8. `usages` - ä½¿ç”¨å ´åˆåˆ†é¡

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **name** | VARCHAR(100) | UNIQUE, NOT NULL | è‹±æ–‡åç¨± |
| **display_name** | VARCHAR(100) | NOT NULL | é¡¯ç¤ºåç¨±ï¼ˆä¸­æ–‡ï¼‰ |
| description | TEXT | | ä½¿ç”¨å ´åˆèªªæ˜ |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |

**è³‡æ–™ç¯„ä¾‹ï¼š**
- Casual â†’ ä¼‘é–’
- Sports â†’ é‹å‹•
- Ethnic â†’ æ°‘æ—é¢¨
- Formal â†’ æ­£å¼
- Smart Casual â†’ å•†å‹™ä¼‘é–’
- Party â†’ æ´¾å°
- Travel â†’ æ—…è¡Œ
- Home â†’ å±…å®¶

---

#### 9. `brands` - å“ç‰Œè³‡æ–™è¡¨

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **name** | VARCHAR(200) | UNIQUE, NOT NULL | å“ç‰Œåç¨± |
| display_name | VARCHAR(200) | | å“ç‰Œé¡¯ç¤ºåç¨±ï¼ˆä¸­æ–‡/è‹±æ–‡ï¼‰ |
| description | TEXT | | å“ç‰Œç°¡ä»‹ |
| logo_url | VARCHAR(1000) | | å“ç‰Œ Logo URL |
| is_active | BOOLEAN | DEFAULT true | æ˜¯å¦å•Ÿç”¨ |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |

---

### æ“´å±•è¡¨ï¼šå•†å“è©³ç´°è³‡è¨Š

#### 10. `product_images` - å•†å“å¤šåœ–ç‰‡

å„²å­˜å•†å“çš„å¤šå¼µåœ–ç‰‡ï¼ˆæ­£é¢ã€èƒŒé¢ã€æœå°‹ç”¨åœ–ç­‰ï¼‰ã€‚

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **product_id** | INTEGER | FK â†’ products.id | æ‰€å±¬å•†å“ |
| **image_type** | VARCHAR(50) | NOT NULL | åœ–ç‰‡é¡å‹ (default, front, back, search) |
| **image_url** | VARCHAR(1000) | NOT NULL | åœ–ç‰‡ URL |
| resolution | VARCHAR(20) | | è§£æåº¦ (1080X1440, 360X480 ç­‰) |
| is_primary | BOOLEAN | DEFAULT false | æ˜¯å¦ç‚ºä¸»åœ– |
| display_order | INTEGER | DEFAULT 0 | é¡¯ç¤ºé †åº |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |

**ç´¢å¼•ï¼š**
- `idx_product_image_type`: (product_id, image_type)
- `idx_product_primary_image`: (product_id, is_primary)

---

#### 11. `product_attributes` - å•†å“å±¬æ€§

å„²å­˜å•†å“çš„é¡å¤–å±¬æ€§ï¼ˆå¦‚åœ–æ¡ˆã€ç‰ˆå‹ç­‰ï¼‰ï¼Œä¾†è‡ª JSON æª”æ¡ˆä¸­çš„ `articleAttributes`ã€‚

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **product_id** | INTEGER | FK â†’ products.id | æ‰€å±¬å•†å“ |
| **attribute_key** | VARCHAR(100) | NOT NULL | å±¬æ€§éµï¼ˆPattern, Fit Type ç­‰ï¼‰ |
| **attribute_value** | TEXT | NOT NULL | å±¬æ€§å€¼ |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |

**ç´¢å¼•ï¼š**
- `idx_product_attr`: (product_id, attribute_key)

**è³‡æ–™ç¯„ä¾‹ï¼š**
- Pattern â†’ Printed (å°èŠ±)
- Fit Type â†’ Regular (æ¨™æº–ç‰ˆå‹)
- Body or Garment Size â†’ To-Fit Denotes Body Measurements

---

#### 12. `product_sizes` - å•†å“å°ºå¯¸èˆ‡åº«å­˜

å„²å­˜å•†å“çš„å„å€‹å°ºå¯¸é¸é …åŠå…¶åº«å­˜ç‹€æ…‹ã€‚

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **product_id** | INTEGER | FK â†’ products.id | æ‰€å±¬å•†å“ |
| **size_name** | VARCHAR(50) | NOT NULL | å°ºå¯¸åç¨± (S, M, L, XL, 2YRS ç­‰) |
| stock_count | INTEGER | DEFAULT 0 | è©²å°ºå¯¸åº«å­˜ |
| is_available | BOOLEAN | DEFAULT true | æ˜¯å¦å¯è³¼è²· |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |

**ç´¢å¼•ï¼š**
- `idx_product_size_unique`: (product_id, size_name) UNIQUE

---

### è¨‚å–®ç³»çµ± (Phase 1)

#### 13. `orders` - è¨‚å–®ä¸»è¡¨

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **order_number** | VARCHAR(50) | UNIQUE, NOT NULL | è¨‚å–®ç·¨è™Ÿ |
| | | | |
| **æ”¶ä»¶äººè³‡è¨Š** | | | |
| customer_name | VARCHAR(200) | NOT NULL | æ”¶ä»¶äººå§“å |
| customer_email | VARCHAR(200) | | æ”¶ä»¶äºº Email |
| customer_phone | VARCHAR(50) | NOT NULL | æ”¶ä»¶äººé›»è©± |
| shipping_address | TEXT | NOT NULL | æ”¶ä»¶åœ°å€ |
| | | | |
| **è¨‚å–®é‡‘é¡** | | | |
| subtotal | DECIMAL(10,2) | NOT NULL | å•†å“å°è¨ˆ |
| shipping_fee | DECIMAL(10,2) | DEFAULT 0 | é‹è²» |
| discount_amount | DECIMAL(10,2) | DEFAULT 0 | æŠ˜æ‰£é‡‘é¡ |
| total_amount | DECIMAL(10,2) | NOT NULL | è¨‚å–®ç¸½é¡ |
| | | | |
| **è¨‚å–®ç‹€æ…‹** | | | |
| status | VARCHAR(50) | NOT NULL, DEFAULT 'pending' | pending, confirmed, shipped, delivered, cancelled |
| payment_status | VARCHAR(50) | DEFAULT 'unpaid' | unpaid, paid, refunded |
| payment_method | VARCHAR(50) | | cash_on_delivery, credit_card ç­‰ |
| | | | |
| **å‚™è¨»** | | | |
| customer_note | TEXT | | å®¢æˆ¶å‚™è¨» |
| admin_note | TEXT | | ç®¡ç†å“¡å‚™è¨» |
| | | | |
| **æ™‚é–“æˆ³è¨˜** | | | |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | è¨‚å–®å»ºç«‹æ™‚é–“ |
| updated_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | æœ€å¾Œæ›´æ–°æ™‚é–“ |
| confirmed_at | TIMESTAMP | | è¨‚å–®ç¢ºèªæ™‚é–“ |
| shipped_at | TIMESTAMP | | å‡ºè²¨æ™‚é–“ |
| delivered_at | TIMESTAMP | | é€é”æ™‚é–“ |

**ç´¢å¼•ï¼š**
- `idx_order_number`: order_number
- `idx_order_status`: status
- `idx_created_status`: (created_at, status)

---

#### 14. `order_items` - è¨‚å–®é …ç›®æ˜ç´°

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **order_id** | INTEGER | FK â†’ orders.id | æ‰€å±¬è¨‚å–® |
| **product_id** | INTEGER | FK â†’ products.id | å•†å“ |
| | | | |
| **å•†å“è³‡è¨Šå¿«ç…§** | | | |
| product_name | VARCHAR(500) | NOT NULL | å•†å“åç¨±ï¼ˆå¿«ç…§ï¼‰ |
| size_name | VARCHAR(50) | | å°ºå¯¸ |
| unit_price | DECIMAL(10,2) | NOT NULL | å–®åƒ¹ï¼ˆå¿«ç…§ï¼‰ |
| quantity | INTEGER | NOT NULL, DEFAULT 1 | æ•¸é‡ |
| subtotal | DECIMAL(10,2) | NOT NULL | å°è¨ˆ |
| | | | |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |

**ç´¢å¼•ï¼š**
- `idx_order_items_order`: order_id
- `idx_order_items_product`: product_id

**æ³¨æ„**ï¼šå„²å­˜å•†å“åç¨±å’Œåƒ¹æ ¼å¿«ç…§ï¼Œé¿å…å•†å“å¾ŒçºŒä¿®æ”¹å½±éŸ¿æ­·å²è¨‚å–®è³‡æ–™ã€‚

---

### å•†å“è©•è«–ç³»çµ± (Phase 2)

#### 15. `product_reviews` - å•†å“è©•è«–

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **product_id** | INTEGER | FK â†’ products.id | æ‰€å±¬å•†å“ |
| | | | |
| **è©•è«–è€…è³‡è¨Š** | | | |
| reviewer_name | VARCHAR(200) | NOT NULL | è©•è«–è€…å§“å |
| reviewer_email | VARCHAR(200) | | è©•è«–è€… Email |
| | | | |
| **è©•è«–å…§å®¹** | | | |
| rating | INTEGER | NOT NULL | è©•åˆ† (1-5) |
| title | VARCHAR(200) | | è©•è«–æ¨™é¡Œ |
| content | TEXT | NOT NULL | è©•è«–å…§å®¹ |
| | | | |
| **å¯©æ ¸ç‹€æ…‹** | | | |
| is_verified | BOOLEAN | DEFAULT false | æ˜¯å¦é©—è­‰è³¼è²· |
| is_approved | BOOLEAN | DEFAULT false | æ˜¯å¦é€šéå¯©æ ¸ |
| | | | |
| **äº’å‹•çµ±è¨ˆ** | | | |
| helpful_count | INTEGER | DEFAULT 0 | æœ‰å¹«åŠ©ç¥¨æ•¸ |
| | | | |
| **æ™‚é–“æˆ³è¨˜** | | | |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |
| approved_at | TIMESTAMP | | å¯©æ ¸é€šéæ™‚é–“ |

**ç´¢å¼•ï¼š**
- `idx_review_product`: product_id
- `idx_review_approved`: (product_id, is_approved)
- `idx_review_rating`: rating

---

### AI æ¨è–¦ç³»çµ± (Phase 3)

#### 16. `product_embeddings` - å•†å“èªç¾©å‘é‡

å„²å­˜å•†å“çš„èªç¾©å‘é‡ï¼Œç”¨æ–¼ AI æ¨è–¦å’Œèªç¾©æœå°‹ã€‚

| æ¬„ä½åç¨± | è³‡æ–™å‹æ…‹ | ç´„æŸæ¢ä»¶ | èªªæ˜ |
|---------|---------|---------|------|
| **id** | INTEGER | PRIMARY KEY, AUTO_INCREMENT | ä¸»éµ |
| **product_id** | INTEGER | FK â†’ products.id, UNIQUE | æ‰€å±¬å•†å“ |
| **embedding_model** | VARCHAR(100) | NOT NULL | ä½¿ç”¨çš„ embedding æ¨¡å‹ |
| **embedding_vector** | BLOB | NOT NULL | å‘é‡è³‡æ–™ï¼ˆåºåˆ—åŒ–å­˜å„²ï¼‰ |
| embedding_text | TEXT | | ç”¨æ–¼ç”Ÿæˆå‘é‡çš„æ–‡æœ¬ |
| created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | å»ºç«‹æ™‚é–“ |
| updated_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | æ›´æ–°æ™‚é–“ |

**ç´¢å¼•ï¼š**
- `idx_embedding_product`: product_id

**èªªæ˜**ï¼š
- ä½¿ç”¨ Sentence Transformers ç”Ÿæˆå¤šèªè¨€å‘é‡
- å‘é‡ç¶­åº¦ï¼š384 (paraphrase-multilingual-MiniLM-L12-v2)
- åºåˆ—åŒ–æ ¼å¼ï¼šPickle æˆ– NumPy binary

---

## ğŸ”— è³‡æ–™è¡¨é—œè¯åœ–

![Fashion Store ER Diagram](./Fashion-Store.svg)

### æ ¸å¿ƒé—œè¯çµæ§‹

```
products (å•†å“ä¸»è¡¨)
â”œâ”€â”€ gender_id          â†’ genders (æ€§åˆ¥)
â”œâ”€â”€ master_category_id â†’ master_categories (ä¸»åˆ†é¡)
â”œâ”€â”€ sub_category_id    â†’ sub_categories (å­åˆ†é¡)
â”œâ”€â”€ article_type_id    â†’ article_types (å•†å“é¡å‹)
â”œâ”€â”€ base_colour_id     â†’ colours (é¡è‰²)
â”œâ”€â”€ season_id          â†’ seasons (å­£ç¯€)
â”œâ”€â”€ usage_id           â†’ usages (ä½¿ç”¨å ´åˆ)
â””â”€â”€ brand_id           â†’ brands (å“ç‰Œ)

products (å•†å“ä¸»è¡¨)
â”œâ”€â”€ product_images (1:N) - å•†å“åœ–ç‰‡
â”œâ”€â”€ product_attributes (1:N) - å•†å“å±¬æ€§
â”œâ”€â”€ product_sizes (1:N) - å°ºå¯¸èˆ‡åº«å­˜
â”œâ”€â”€ product_reviews (1:N) - å•†å“è©•è«–
â”œâ”€â”€ product_embeddings (1:1) - èªç¾©å‘é‡
â””â”€â”€ order_items (1:N) - è¨‚å–®é …ç›®

orders (è¨‚å–®)
â””â”€â”€ order_items (1:N) - è¨‚å–®æ˜ç´°
    â””â”€â”€ product_id â†’ products
```

### åˆ†é¡å±¤ç´šçµæ§‹

```
master_categories (ä¸»åˆ†é¡)
â””â”€â”€ sub_categories (1:N)
    â””â”€â”€ article_types (1:N)
```

---

## ğŸ“‡ ç´¢å¼•ç­–ç•¥

### ä¸»è¦æŸ¥è©¢ç´¢å¼•

1. **å•†å“ç€è¦½æŸ¥è©¢**
   - `idx_gender_category`: (gender_id, master_category_id)
   - ç”¨é€”ï¼šæŒ‰æ€§åˆ¥å’Œåˆ†é¡ç¯©é¸å•†å“

2. **å•†å“ç¯©é¸æŸ¥è©¢**
   - `idx_colour_season`: (base_colour_id, season_id)
   - ç”¨é€”ï¼šæŒ‰é¡è‰²å’Œå­£ç¯€ç¯©é¸

3. **åƒ¹æ ¼æ’åºæŸ¥è©¢**
   - `idx_price`: (price, discounted_price)
   - ç”¨é€”ï¼šåƒ¹æ ¼ç¯„åœç¯©é¸å’Œæ’åº

4. **å•†å“åˆ—è¡¨æŸ¥è©¢**
   - `idx_active_created`: (is_active, created_at)
   - ç”¨é€”ï¼šç²å–ä¸Šæ¶å•†å“åˆ—è¡¨ï¼ŒæŒ‰å»ºç«‹æ™‚é–“æ’åº

5. **å•†å“æœå°‹**
   - `idx_product_name`: product_display_name (BTREE)
   - ç”¨é€”ï¼šå•†å“åç¨±æ¨¡ç³Šæœå°‹

### è¨‚å–®æŸ¥è©¢ç´¢å¼•

1. `idx_order_number`: è¨‚å–®ç·¨è™ŸæŸ¥è©¢
2. `idx_order_status`: è¨‚å–®ç‹€æ…‹ç¯©é¸
3. `idx_created_status`: è¨‚å–®åˆ—è¡¨ï¼ˆæŒ‰æ™‚é–“+ç‹€æ…‹ï¼‰

---

## ğŸ“¦ è³‡æ–™é·ç§»è¨ˆåŠƒ

### Phase 1: å»ºç«‹åŸºç¤è¡¨çµæ§‹

1. âœ… å»ºç«‹æŸ¥æ‰¾è¡¨ (Lookup Tables)
   - genders, master_categories, sub_categories, article_types
   - colours, seasons, usages, brands

2. âœ… å»ºç«‹å•†å“ä¸»è¡¨
   - products

3. âœ… å»ºç«‹æ“´å±•è¡¨
   - product_images, product_attributes, product_sizes

4. âœ… å»ºç«‹è¨‚å–®ç³»çµ±
   - orders, order_items

### Phase 2: åŒ¯å…¥è³‡æ–™

1. **åŒ¯å…¥æŸ¥æ‰¾è¡¨è³‡æ–™**
   - å¾ CSV æå–å”¯ä¸€å€¼
   - å»ºç«‹ä¸­æ–‡å°ç…§è¡¨
   - æ‰¹æ¬¡æ’å…¥

2. **åŒ¯å…¥å•†å“è³‡æ–™**
   - è®€å– styles.csv (44,424 ç­†)
   - è®€å– styles/*.json (44,446 å€‹æª”æ¡ˆ)
   - åˆä½µè³‡æ–™ä¸¦åŒ¯å…¥

3. **åŒ¯å…¥åœ–ç‰‡è³‡è¨Š**
   - æƒæåœ–ç‰‡ç›®éŒ„
   - å»ºç«‹åœ–ç‰‡è¨˜éŒ„

### Phase 3: è³‡æ–™é©—è­‰

1. æª¢æŸ¥å¤–éµå®Œæ•´æ€§
2. é©—è­‰åœ–ç‰‡æª”æ¡ˆå­˜åœ¨æ€§
3. çµ±è¨ˆè³‡æ–™å®Œæ•´åº¦
4. å»ºç«‹æ¸¬è©¦è³‡æ–™

---

## ğŸ”„ è³‡æ–™å®Œæ•´æ€§è¦å‰‡

### å¿…å¡«æ¬„ä½

- products.product_display_name
- products.gender_id, master_category_id, sub_category_id, article_type_id
- orders.customer_name, customer_phone, shipping_address
- order_items.product_name, unit_price, quantity

### é è¨­å€¼

- products.is_active = true
- products.stock_count = 0
- products.rating = 0
- orders.status = 'pending'
- orders.payment_status = 'unpaid'

### å¤–éµç´„æŸ

- æ‰€æœ‰å¤–éµéƒ½æ‡‰è©²è¨­å®š ON DELETE è¡Œç‚º
- å»ºè­°ä½¿ç”¨ CASCADE æˆ– SET NULLï¼ˆè¦–æƒ…æ³è€Œå®šï¼‰

---

## ğŸ“ˆ é ä¼°è³‡æ–™é‡

| è³‡æ–™è¡¨ | é ä¼°ç­†æ•¸ | æˆé•·é€Ÿåº¦ | èªªæ˜ |
|-------|---------|---------|------|
| products | 44,424 | ä½ | åˆå§‹åŒ¯å…¥ï¼Œå¾ŒçºŒå¢åŠ æœ‰é™ |
| genders | 5 | å›ºå®š | å›ºå®šé¸é … |
| master_categories | 7 | å›ºå®š | å›ºå®šé¸é … |
| sub_categories | 45 | ä½ | è¼ƒç©©å®š |
| article_types | 143 | ä½ | è¼ƒç©©å®š |
| colours | 46 | ä½ | è¼ƒç©©å®š |
| seasons | 4 | å›ºå®š | å›ºå®šé¸é … |
| usages | 8 | ä½ | è¼ƒç©©å®š |
| brands | ~5000 | ä½ | å¾è³‡æ–™é›†æå– |
| product_images | ~150,000 | ä½ | å¹³å‡æ¯å•†å“ 3-4 å¼µåœ– |
| product_sizes | ~100,000 | ä½ | å¹³å‡æ¯å•†å“ 2-3 å€‹å°ºå¯¸ |
| orders | 0 | ä¸­ | éš¨æ¥­å‹™æˆé•· |
| order_items | 0 | ä¸­ | éš¨è¨‚å–®æˆé•· |
| product_reviews | 0 | ä¸­ | Phase 2 åŠŸèƒ½ |
| product_embeddings | 44,424 | ä½ | Phase 3 ä¸€æ¬¡æ€§ç”Ÿæˆ |

---

## ğŸ” å®‰å…¨æ€§è€ƒé‡

1. **å¯†ç¢¼åŠ å¯†**ï¼šå¦‚æœ‰ä½¿ç”¨è€…ç³»çµ±ï¼Œä½¿ç”¨ bcrypt åŠ å¯†
2. **SQL æ³¨å…¥é˜²è­·**ï¼šä½¿ç”¨ SQLAlchemy ORM åƒæ•¸åŒ–æŸ¥è©¢
3. **æ•æ„Ÿè³‡æ–™**ï¼šè¨‚å–®è³‡è¨Šéœ€è¬¹æ…è™•ç†
4. **å‚™ä»½ç­–ç•¥**ï¼šå®šæœŸå‚™ä»½è³‡æ–™åº«

---

## ğŸš€ æ•ˆèƒ½å„ªåŒ–å»ºè­°

1. **åˆ†é æŸ¥è©¢**ï¼šå•†å“åˆ—è¡¨ä½¿ç”¨ LIMIT/OFFSET
2. **å¿«å–ç­–ç•¥**ï¼š
   - æŸ¥æ‰¾è¡¨è³‡æ–™å¯å¿«å–ï¼ˆå¾ˆå°‘è®Šå‹•ï¼‰
   - ç†±é–€å•†å“è³‡è¨Šå¿«å– 5-10 åˆ†é˜
3. **åœ–ç‰‡ CDN**ï¼šå•†å“åœ–ç‰‡ä½¿ç”¨ CDN åŠ é€Ÿ
4. **è³‡æ–™åº«é€£ç·šæ± **ï¼šä½¿ç”¨ SQLAlchemy é€£ç·šæ± 

---

## ğŸ“ è®Šæ›´æ­·å²

| æ—¥æœŸ | ç‰ˆæœ¬ | è®Šæ›´å…§å®¹ | ä½œè€… |
|-----|------|---------|------|
| 2025-11-20 | 1.0 | åˆå§‹ç‰ˆæœ¬ï¼Œå®ŒæˆåŸºç¤è¨­è¨ˆ | - |

---

**æ–‡ä»¶ç‹€æ…‹**: âœ… å¾…ç¢ºèª  
**ä¸‹ä¸€æ­¥**: å¯¦ä½œ SQLAlchemy Models
